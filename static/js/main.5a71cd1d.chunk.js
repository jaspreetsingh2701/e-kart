(this["webpackJsonpe-kart"]=this["webpackJsonpe-kart"]||[]).push([[0],{100:function(t,e,a){},101:function(t,e,a){"use strict";a.r(e);var r=a(0),c=a.n(r),n=a(21),o=a.n(n),i=a(16),u=a(42),l=a(11),s=a(10),d=a(9),m=a(13),p=a(14),_=a(17),f=a(15),v=a(18),h=function(t,e,a){var r=a?function(e){return a(e,t)}:function(e){return e[t]};return e=e?-1:1,function(t,a){return t=r(t),a=r(a),e*((t>a)-(a>t))}},E=function(t){var e=t.cartItemsCount;return c.a.createElement("div",{className:"cart"},c.a.createElement(s.b,{to:"/checkout"},c.a.createElement("div",{className:"cart__wrapper"},c.a.createElement("i",{className:"cart__wrapper__icon fa fa-shopping-cart","aria-hidden":"true"}),e>0&&c.a.createElement("div",{className:"cart__wrapper__count"},e))))},b=a(44),y=a.n(b),N=(a(59),function(t){var e=t.cartItemsCount;return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__devInfo"},c.a.createElement("div",{className:"header__devInfo--text"},"Powered by React"),c.a.createElement("img",{src:y.a,alt:"logo"})),c.a.createElement("div",{className:"header__root"},c.a.createElement("div",{className:"f-r"},c.a.createElement("div",{className:"header__root--company-text"},c.a.createElement(s.b,{to:"/"},"e-Kart")),c.a.createElement(E,{cartItemsCount:e}))))}),g=(a(60),a(61),function(t){function e(){var t,a;Object(m.a)(this,e);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(c)))).state={activeTab:"tab1"},a.tabOnClick=function(t){t&&t.currentTarget&&t.currentTarget.id&&a.setState({activeTab:t.currentTarget.id})},a}return Object(v.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.state.activeTab,e=this.props.rowDirection,a=void 0===e?"f-c":e,r=this.tabOnClick;return c.a.createElement("div",{className:"tabs ".concat(a?"f-r":"f-c"),activetab:t},c.a.Children.map(this.props.children,(function(e){var a=e.props;return c.a.cloneElement(e,{onClick:r,extraProp:"extraProp",child:e,isActive:a.id===t,customOnClick:a.onClick})})))}}]),e}(c.a.Component)),D=function(t){var e=t.id,a=t.isActive,r=t.onClick,n=t.customOnClick,o=t.children;return c.a.createElement("div",{className:"tab",style:{color:a?"#3498db":"",borderBottom:"2px solid ".concat(a?"#3498db":"#c2c2c2")},id:e,onClick:function(t){r(t),n()}},o)},C=(a(62),function(t){var e=t.sortedProducts;return c.a.createElement("div",{className:"sort"},c.a.createElement("div",{className:"sort__label"},"SORT BY"),c.a.createElement(g,{rowDirection:!0,activeClass:"activeTab",activeTab:"tab1"},c.a.createElement(D,{id:"tab1",onClick:function(){return e("price",!1)}},"Price - Low to High"),c.a.createElement(D,{id:"tab2",onClick:function(){return e("price",!0)}},"Price - Hight to Low"),c.a.createElement(D,{id:"tab3",onClick:function(){return e("discount",!1)}},"Discount (%)")))}),O=(a(63),function(t){var e=t.product,a=t.requestAddToCartRequest;return c.a.createElement("div",{className:"product"},c.a.createElement("img",{className:"product__image",src:e.img_url,alt:e.name}),c.a.createElement("div",{className:"product__description"},c.a.createElement("div",{className:"product__name"},e.name),c.a.createElement("div",{className:"product__price_wrapper"},c.a.createElement("div",{className:"product__price_wrapper__discounted_price"},"\u20b9",e.price-e.price*e.discount/100),c.a.createElement("div",{className:"product__price_wrapper__price"},c.a.createElement("strike",null,"\u20b9",e.price)),c.a.createElement("div",{className:"product__price_wrapper__discount"},"(",e.discount,"% OFF)"))),c.a.createElement("button",{className:"btn-primary btn-full",onClick:function(){return a(e.id)}},"Add to Cart"))}),I=(a(64),function(t){var e=t.products,a=t.requestAddToCartRequest;return c.a.createElement("div",{className:"products"},e.map((function(t,e){return c.a.createElement(O,{product:t,key:e,requestAddToCartRequest:a})})))}),w=a(45),q=a.n(w),R=(a(80),function(t){var e=t.range,a=t.value,r=t.changeRangeValue,n=t.priceRangeFilter;return c.a.createElement("div",{className:"filter"},c.a.createElement("div",{className:"filter__label"},"Filters"),c.a.createElement(q.a,{step:100,minValue:e.min,maxValue:e.max,formatLabel:function(t){return"".concat(t," Rs")},value:a,onChange:function(t){return r(t)}}),c.a.createElement("div",{className:"filter__action"},c.a.createElement("button",{className:"btn-primary",onClick:n},"Apply")))}),k=function(t){function e(){var t,a;Object(m.a)(this,e);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(c)))).state={products:[],filteredProducts:[],range:{min:0,max:0},value:{min:0,max:0},isFiltered:!1,cartItemsCount:0},a.fetchProducts=function(){(0,a.props.requestProductsJSON)()},a.sortedProducts=function(t,r){var c=a.state.products;a.setState({products:c.sort(h(t,r,e.calculateDiscount))})},a.priceRangeFilter=function(){var t=a.state,e=t.value,r=t.products;a.setState({isFiltered:!0,filteredProducts:r.filter((function(t){return t.price>=e.min&&t.price<=e.max}))})},a.changeRangeValue=function(t){a.setState({value:t})},a}return Object(v.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.fetchProducts()}},{key:"render",value:function(){var t=this.state,e=t.filteredProducts,a=t.range,r=t.value,n=t.cartItemsCount,o=this.props.requestAddToCartRequest,i=this.priceRangeFilter,u=this.sortedProducts,l=this.changeRangeValue;return c.a.createElement(c.a.Fragment,null,c.a.createElement(N,{cartItemsCount:n}),c.a.createElement("section",{className:"home"},c.a.createElement("div",{className:"home__wrapper"},c.a.createElement("div",{className:"home__wrapper__filter"},e&&e.length>0&&c.a.createElement(R,{range:a,value:r,changeRangeValue:l,priceRangeFilter:i})),e&&e.length>0&&c.a.createElement("div",{className:"f-c"},c.a.createElement(C,{sortedProducts:u}),c.a.createElement(I,{products:e,requestAddToCartRequest:o})))))}}],[{key:"getDerivedStateFromProps",value:function(t,a){return t.productsData&&a.products!==t.productsData&&!a.isFiltered?{range:{min:Math.min.apply(Math,t.productsData.map((function(t){return 100*Math.floor(t.price/100)}))),max:Math.max.apply(Math,t.productsData.map((function(t){return 100*Math.floor(t.price/100)})))},value:{min:Math.min.apply(Math,t.productsData.map((function(t){return 100*Math.floor(t.price/100)}))),max:Math.max.apply(Math,t.productsData.map((function(t){return 100*Math.floor(t.price/100)})))},products:t.productsData.sort(h("price",!1,e.calculateDiscount)),filteredProducts:t.productsData.sort(h("price",!1,e.calculateDiscount))}:t.cart.cart.length!==a.cartItemsCount?{cartItemsCount:t.cart?t.cart.cart.length:0}:null}}]),e}(c.a.Component);k.calculateDiscount=function(t,e){return t[e]-t[e]*t.discount/100};var T=k,P=a(29),j=a.n(P),x=a(46),F="REQUEST_PRODUCTS_JSON",A="RECEIVE_PRODUCTS_JSON",M="FAILED_PRODUCTS_JSON",S=a(23),V=a.n(S),J=function(t){return V.a.get(t).then((function(t){return{data:t.data}})).catch((function(e){throw console.error(t,e),e}))},U=function(){return J("https://api.myjson.com/bins/qzuzi").then((function(t){return t.data}))},L=function(){return function(){var t=Object(x.a)(j.a.mark((function t(e){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:F}),t.abrupt("return",U().then((function(t){e({type:A,payload:{productsData:t}})})).catch((function(){e({type:M})})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B="ADD_TO_CART",H="REMOVE_FROM_CART",W="REMOVE_PRODUCT_FROM_CART",z=function(t){return{type:B,payload:{productID:t}}},K=Object(i.b)((function(t){return{productsData:t.home.productsData,cart:t.cart}}),(function(t){return{requestProductsJSON:function(){return t(L())},requestAddToCartRequest:function(e){return t(z(e))}}}))(T),Q=(a(99),a(47)),Y=a.n(Q),$=function(t){function e(){var t,a;Object(m.a)(this,e);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(c)))).state={cartItems:[],cartItemsDummy:[{product:{id:9095,name:"Item2",price:150,discount:5,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},quantity:1},{product:{id:9096,name:"Item1",price:320,discount:5,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},quantity:1}],totalPrice:0,totalDiscount:0,totalPayable:0},a.calculateTotalPrice=function(){var t=a.state.cartItems,e=0;return t.map((function(t){return e+=t.product.price*t.quantity})),e},a.calculateTotalDiscount=function(){var t=a.state.cartItems,e=0;return t.map((function(t){return e+=t.product.price*t.quantity-t.product.price*t.quantity*t.product.discount/100})),e},a}return Object(v.a)(e,t),Object(p.a)(e,[{key:"componentDidMount",value:function(){var t=this.props,a=t.products,r=t.cart;if(a&&a.length>0){var c=e.validateCartItems(a,r);this.setState({cartItems:c})}return null}},{key:"render",value:function(){var t=this.state,e=t.cartItems,a=t.cartItemsDummy;console.log(a);var r=this.props,n=r.requestAddToCartRequest,o=r.requestRemoveFromCartRequest,i=r.requestRemoveProductFromCartRequest;return c.a.createElement(c.a.Fragment,null,c.a.createElement(N,null),c.a.createElement("section",{className:"cart-root"},c.a.createElement("div",{className:"cart-root__wrapper"},e&&e.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"cart-root__wrapper__cart-items"},e.map((function(t,e){return c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product",key:e},c.a.createElement("div",{className:"f-r",style:{flex:1}},c.a.createElement("img",{className:"cart-root__wrapper__cart-items__product--img",src:Y.a,alt:t.name}),c.a.createElement("div",{className:"f-c",style:{marginLeft:8,flex:1}},c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--name"},t.product.name),c.a.createElement("div",{className:"f-r",style:{flexWrap:"wrap"}},c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--discounted-price"},"\u20b9",t.product.price-t.product.price*t.product.discount/100),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--price"},c.a.createElement("strike",null,"\u20b9",t.product.price)),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--discount"},"(",t.product.discount,"% OFF)"),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product__actions"},c.a.createElement("i",{onClick:function(){return o(t.product.id)},className:"fa fa-minus-circle","aria-hidden":"true"}),c.a.createElement("div",null,t.quantity),c.a.createElement("i",{onClick:function(){return n(t.product.id)},className:"fa fa-plus-circle","aria-hidden":"true"}),c.a.createElement("button",{className:"btn-primary",onClick:function(){return i(t.product.id)}},"REMOVE"))))))}))),c.a.createElement("div",{className:"cart-root__price-details"},c.a.createElement("div",{className:"cart-root__price-details--label"},"CHECKOUT"),c.a.createElement("div",{className:"cart-root__price-details__sub"},c.a.createElement("div",{className:"cart-root__price-details__sub__label"},c.a.createElement("div",{className:"cart-root__price-details__sub__label--label"},"Price"),c.a.createElement("div",{className:"cart-root__price-details__sub__label--value"},this.calculateTotalPrice())),c.a.createElement("div",{className:"cart-root__price-details__sub__label"},c.a.createElement("div",{className:"cart-root__price-details__sub__label--label"},"Discount"),c.a.createElement("div",{className:"cart-root__price-details__sub__label--value"},this.calculateTotalPrice()-this.calculateTotalDiscount()))),c.a.createElement("div",{className:"cart-root__price-details__payable"},c.a.createElement("div",{className:"cart-root__price-details__payable--label"},"Payable"),c.a.createElement("div",{className:"cart-root__price-details__payable--value"},this.calculateTotalPrice()-(this.calculateTotalPrice()-this.calculateTotalDiscount()))))))))}}],[{key:"getDerivedStateFromProps",value:function(t,a){if(t.products&&t.cart)return{cartItems:e.validateCartItems(t.products,t.cart)}}}]),e}(c.a.Component);$.validateCartItems=function(t,e){var a=[];return t.filter((function(t){return e.cart.some((function(e){return t.id===e.productID&&a.push({product:t,quantity:e.quantity}),null}))})),a};var G=$,X=Object(i.b)((function(t){return{products:t.home.productsData,cart:t.cart}}),(function(t){return{requestAddToCartRequest:function(e){return t(z(e))},requestRemoveFromCartRequest:function(e){return t(function(t){return{type:H,payload:{productID:t}}}(e))},requestRemoveProductFromCartRequest:function(e){return t(function(t){return{type:W,payload:{productID:t}}}(e))}}}))(G);var Z=function(){return c.a.createElement(s.a,null,c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/",component:K}),c.a.createElement(d.a,{path:"/checkout",component:X})))},tt=a(12),et={},at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:return Object(tt.a)({},t,{productsData:[],showSpinner:!0});case A:var a=e.payload.productsData;return Object(tt.a)({},t,{productsData:a,showSpinner:!1});default:return t}},rt=a(48),ct={cart:[]},nt=function(t,e){return t.find((function(t){return t.productID===e}))?t.map((function(t){return t.productID===e?{productID:e,quantity:t.quantity+1}:t})):[].concat(Object(rt.a)(t),[{productID:e,quantity:1}])},ot=function(t,e){return 1===t.find((function(t){return t.productID===e})).quantity?t.filter((function(t){return t.productID!==e})):t.map((function(t){return t.productID===e?{productID:e,quantity:t.quantity-1}:t}))},it=function(t,e){return t.find((function(t){return t.productID===e}))?t.filter((function(t){return t.productID!==e})):t},ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case B:return Object(tt.a)({},t,{cart:nt(t.cart,e.payload.productID)});case H:return Object(tt.a)({},t,{cart:ot(t.cart,e.payload.productID)});case W:return Object(tt.a)({},t,{cart:it(t.cart,e.payload.productID)});default:return t}},lt=Object(l.c)({home:at,cart:ut});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(100);var st=Object(l.a)(u.a),dt=Object(l.d)(lt,st);o.a.render(c.a.createElement(i.a,{store:dt},c.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},44:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},47:function(t,e,a){t.exports=a.p+"static/media/boss.9dfc9092.jpg"},49:function(t,e,a){t.exports=a(101)},59:function(t,e,a){},61:function(t,e,a){},62:function(t,e,a){},63:function(t,e,a){},64:function(t,e,a){},80:function(t,e,a){},99:function(t,e,a){}},[[49,1,2]]]);
//# sourceMappingURL=main.5a71cd1d.chunk.js.map