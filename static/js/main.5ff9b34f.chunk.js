(this["webpackJsonpe-kart"]=this["webpackJsonpe-kart"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(12),o=a.n(n),i=a(17),l=a(42),u=a(10),s=a(16),d=a(9),m=a(13),p=a(14),_=a(18),f=a(15),h=a(19),v=function(e,t,a){var r=a?function(t){return a(t,e)}:function(t){return t[e]};return t=t?-1:1,function(e,a){return e=r(e),a=r(a),t*((e>a)-(a>e))}},E=function(e){var t=e.cartItemsCount;return c.a.createElement("div",{className:"cart"},c.a.createElement(s.b,{to:"/checkout"},c.a.createElement("div",{className:"cart__wrapper"},c.a.createElement("i",{className:"cart__wrapper__icon fa fa-shopping-cart","aria-hidden":"true"}),t>0&&c.a.createElement("div",{className:"cart__wrapper__count"},t))))},b=a(44),g=a.n(b),y=(a(59),function(e){var t=e.cartItemsCount,a=e.isShowCart,r=void 0===a||a,n=e.searchCallback;return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__devInfo"},c.a.createElement("div",{className:"header__devInfo--text"},"Powered by React"),c.a.createElement("img",{src:g.a,alt:"logo"})),c.a.createElement("div",{className:"header__root"},c.a.createElement("div",{className:"f-r"},c.a.createElement("div",{className:"header__root--company-text"},c.a.createElement(s.b,{to:"/"},"e-Kart")),c.a.createElement("input",{className:"header__root__search_input",placeholder:"Search",onChange:n}),r&&c.a.createElement(E,{cartItemsCount:t}))))}),N=(a(60),a(61),function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={activeTab:"tab1"},a.tabOnClick=function(e){e&&e.currentTarget&&e.currentTarget.id&&a.setState({activeTab:e.currentTarget.id})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.activeTab,t=this.props.rowDirection,a=void 0===t?"f-c":t,r=this.tabOnClick;return c.a.createElement("div",{className:"tabs ".concat(a?"f-r":"f-c"),activetab:e},c.a.Children.map(this.props.children,(function(t){var a=t.props;return c.a.cloneElement(t,{onClick:r,extraProp:"extraProp",child:t,isActive:a.id===e,customOnClick:a.onClick})})))}}]),t}(c.a.Component)),C=function(e){var t=e.id,a=e.isActive,r=e.onClick,n=e.customOnClick,o=e.children;return c.a.createElement("div",{className:"tab",style:{color:a?"#3498db":"",borderBottom:"2px solid ".concat(a?"#3498db":"#c2c2c2")},id:t,onClick:function(e){r(e),n()}},o)},w=(a(62),function(e){var t=e.isMobile,a=void 0!==t&&t,r=e.sortedProducts;return c.a.createElement("div",{className:"sort".concat(a?"-mobile":"")},a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sort-mobile__label"},"SORT"),c.a.createElement("div",{className:"f-c",onChange:function(e){return r(e.target.value,e.target.dataset.isasc)}},c.a.createElement("div",null,c.a.createElement("input",{id:"lowToHigh",type:"radio",value:"price",name:"sortBy",defaultChecked:!0}),"\xa0",c.a.createElement("label",{for:"lowToHigh"},"Price - Low to High")),c.a.createElement("div",null,c.a.createElement("input",{id:"highToLow",type:"radio",value:"price","data-isasc":"true",name:"sortBy"}),"\xa0",c.a.createElement("label",{for:"highToLow"},"Price - High to Low")),c.a.createElement("div",null,c.a.createElement("input",{id:"discount",type:"radio",value:"discount",name:"sortBy"}),"\xa0",c.a.createElement("label",{for:"discount"},"Discount (%)")))),!a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sort__label"},"SORT BY"),c.a.createElement(N,{rowDirection:!0,activeClass:"activeTab",activeTab:"tab1"},c.a.createElement(C,{id:"tab1",onClick:function(){return r("price",!1)}},"Price - Low to High"),c.a.createElement(C,{id:"tab2",onClick:function(){return r("price",!0)}},"Price - Hight to Low"),c.a.createElement(C,{id:"tab3",onClick:function(){return r("discount",!1)}},"Discount (%)"))))}),D=(a(63),function(e){var t=e.product,a=e.requestAddToCartRequest;return c.a.createElement("div",{className:"product"},c.a.createElement("img",{className:"product__image",src:t.img_url,alt:t.name}),c.a.createElement("div",{className:"product__description"},c.a.createElement("div",{className:"product__name"},t.name),c.a.createElement("div",{className:"product__price_wrapper"},c.a.createElement("div",{className:"product__price_wrapper__discounted_price"},"\u20b9",t.price-t.price*t.discount/100),c.a.createElement("div",{className:"product__price_wrapper__price"},c.a.createElement("strike",null,"\u20b9",t.price)),c.a.createElement("div",{className:"product__price_wrapper__discount"},"(",t.discount,"% OFF)"))),c.a.createElement("button",{className:"btn-primary btn-full",onClick:function(){return a(t.id)}},"Add to Cart"))}),O=(a(64),function(e){var t=e.products,a=e.requestAddToCartRequest;return c.a.createElement("div",{className:"products"},t.map((function(e,t){return c.a.createElement(D,{product:e,key:t,requestAddToCartRequest:a})})))}),k=a(45),R=a.n(k),I=(a(80),function(e){var t=e.isMobile,a=void 0!==t&&t,r=e.range,n=e.value,o=e.changeRangeValue,i=e.priceRangeFilter;return c.a.createElement("div",{className:"filter".concat(a?"-mobile":"")},c.a.createElement("div",{className:"filter__label"},"FILTER"),c.a.createElement(R.a,{step:100,minValue:r.min,maxValue:r.max,formatLabel:function(e){return"".concat(e," Rs")},value:n,onChange:function(e){return o(e)}}),c.a.createElement("div",{className:"filter__action"},c.a.createElement("button",{className:"btn-primary",onClick:i},"APPLY")))}),q=(a(81),document.getElementById("modal-root")),P=function(e){return o.a.createPortal(c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal__content"},e.children,c.a.createElement("button",{onClick:e.closeModal,className:"btn-primary btn-full"},"X"))),q)},T=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={products:[],filteredProducts:[],range:{min:0,max:0},value:{min:0,max:0},isFiltered:!1,cartItemsCount:0,width:window.innerWidth,isSortModal:!1,isFilterModal:!1},a.handleWindowSizeChange=function(){a.setState({width:window.innerWidth})},a.fetchProducts=function(){(0,a.props.requestProductsJSON)()},a.sortedProducts=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=a.state.products;a.setState({products:c.sort(v(e,r,t.calculateDiscount))})},a.priceRangeFilter=function(){var e=a.state,t=e.value,r=e.products;a.setState({isFiltered:!0,filteredProducts:r.filter((function(e){return e.price>=t.min&&e.price<=t.max}))})},a.searchCallback=function(e){var t=a.state.products;a.setState({filteredProducts:t.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}))})},a.changeRangeValue=function(e){a.setState({value:e})},a.showSortModal=function(){a.setState({isSortModal:!0})},a.showFilterModal=function(){a.setState({isFilterModal:!0})},a.closeModal=function(){a.setState({isSortModal:!1,isFilterModal:!1})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchProducts(),window.addEventListener("resize",this.handleWindowSizeChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowSizeChange)}},{key:"render",value:function(){var e=this.state,t=e.filteredProducts,a=e.range,r=e.value,n=e.cartItemsCount,o=e.width,i=e.isSortModal,l=e.isFilterModal,u=this.props.requestAddToCartRequest,s=this.priceRangeFilter,d=this.sortedProducts,m=this.changeRangeValue,p=this.showSortModal,_=this.showFilterModal,f=this.closeModal,h=this.searchCallback,v=o<=500;return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{cartItemsCount:n,searchCallback:h}),c.a.createElement("section",{className:"home"},v&&c.a.createElement("div",{className:"home__filters"},c.a.createElement("div",{className:"home__filters__action",onClick:p},c.a.createElement("i",{className:"fa fa-sort"}),"\xa0Sort"),c.a.createElement("div",{className:"home__filters__action",onClick:_},c.a.createElement("i",{className:"fa fa-filter"}),"\xa0Filter")),v&&i&&c.a.createElement(P,{closeModal:f},c.a.createElement(w,{isMobile:!0,sortedProducts:d})),v&&l&&c.a.createElement(P,{closeModal:f},c.a.createElement(I,{isMobile:!0,range:a,value:r,changeRangeValue:m,priceRangeFilter:s})),c.a.createElement("div",{className:"home__wrapper"},!v&&c.a.createElement("div",{className:"home__wrapper__filter"},t&&t.length>0&&c.a.createElement(I,{range:a,value:r,changeRangeValue:m,priceRangeFilter:s})),t&&t.length>0&&c.a.createElement("div",{className:"f-c"},!v&&c.a.createElement(w,{sortedProducts:d}),c.a.createElement(O,{products:t,requestAddToCartRequest:u})))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.productsData&&a.products!==e.productsData&&!a.isFiltered?{range:{min:Math.min.apply(Math,e.productsData.map((function(e){return 100*Math.floor(e.price/100)}))),max:Math.max.apply(Math,e.productsData.map((function(e){return 100*Math.floor(e.price/100)})))},value:{min:Math.min.apply(Math,e.productsData.map((function(e){return 100*Math.floor(e.price/100)}))),max:Math.max.apply(Math,e.productsData.map((function(e){return 100*Math.floor(e.price/100)})))},products:e.productsData.sort(v("price",!1,t.calculateDiscount)),filteredProducts:e.productsData.sort(v("price",!1,t.calculateDiscount))}:e.cart.cart.length!==a.cartItemsCount?{cartItemsCount:e.cart?e.cart.cart.length:0}:null}}]),t}(c.a.Component);T.calculateDiscount=function(e,t){return e[t]-e[t]*e.discount/100};var M=T,S=a(29),F=a.n(S),j=a(46),x="REQUEST_PRODUCTS_JSON",A="RECEIVE_PRODUCTS_JSON",L="FAILED_PRODUCTS_JSON",V=a(23),W=a.n(V),B=function(e){return W.a.get(e).then((function(e){return{data:e.data}})).catch((function(t){throw console.error(e,t),t}))},z=function(){return B("https://api.myjson.com/bins/qzuzi").then((function(e){return e.data}))},H=function(){return function(){var e=Object(j.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:x}),e.abrupt("return",z().then((function(e){t({type:A,payload:{productsData:e}})})).catch((function(){t({type:L})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J="ADD_TO_CART",U="REMOVE_FROM_CART",K="REMOVE_PRODUCT_FROM_CART",Y=function(e){return{type:J,payload:{productID:e}}},Q=Object(i.b)((function(e){return{productsData:e.home.productsData,cart:e.cart}}),(function(e){return{requestProductsJSON:function(){return e(H())},requestAddToCartRequest:function(t){return e(Y(t))}}}))(M),X=(a(100),a(47)),$=a.n(X),G=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={cartItems:[],cartItemsDummy:[{product:{id:9095,name:"Item2",price:150,discount:5,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},quantity:1},{product:{id:9096,name:"Item1",price:320,discount:5,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},quantity:1}],totalPrice:0,totalDiscount:0,totalPayable:0},a.calculateTotalPrice=function(){var e=a.state.cartItems,t=0;return e.map((function(e){return t+=e.product.price*e.quantity})),t},a.calculateTotalDiscount=function(){var e=a.state.cartItems,t=0;return e.map((function(e){return t+=e.product.price*e.quantity-e.product.price*e.quantity*e.product.discount/100})),t},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.products,r=e.cart;if(a&&a.length>0){var c=t.validateCartItems(a,r);this.setState({cartItems:c})}return null}},{key:"render",value:function(){var e=this.state.cartItems,t=this.props,a=t.requestAddToCartRequest,r=t.requestRemoveFromCartRequest,n=t.requestRemoveProductFromCartRequest;return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{isShowCart:!1}),c.a.createElement("section",{className:"cart-root"},c.a.createElement("div",{className:"cart-root__wrapper"},e&&e.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"cart-root__wrapper__cart-items"},e.map((function(e,t){return c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product",key:t},c.a.createElement("div",{className:"f-r",style:{flex:1}},c.a.createElement("img",{className:"cart-root__wrapper__cart-items__product--img",src:$.a,alt:e.name}),c.a.createElement("div",{className:"f-c",style:{marginLeft:8,flex:1}},c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--name"},e.product.name),c.a.createElement("div",{className:"f-r",style:{flexWrap:"wrap"}},c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--discounted-price"},"\u20b9",e.product.price-e.product.price*e.product.discount/100),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--price"},c.a.createElement("strike",null,"\u20b9",e.product.price)),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--discount"},"(",e.product.discount,"% OFF)"),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product__actions"},c.a.createElement("i",{onClick:function(){return r(e.product.id)},className:"fa fa-minus-circle","aria-hidden":"true"}),c.a.createElement("div",null,e.quantity),c.a.createElement("i",{onClick:function(){return a(e.product.id)},className:"fa fa-plus-circle","aria-hidden":"true"}),c.a.createElement("button",{className:"btn-primary",onClick:function(){return n(e.product.id)}},"REMOVE"))))))}))),c.a.createElement("div",{className:"cart-root__price-details"},c.a.createElement("div",{className:"cart-root__price-details--label"},"CHECKOUT"),c.a.createElement("div",{className:"cart-root__price-details__sub"},c.a.createElement("div",{className:"cart-root__price-details__sub__label"},c.a.createElement("div",{className:"cart-root__price-details__sub__label--label"},"Price"),c.a.createElement("div",{className:"cart-root__price-details__sub__label--value"},this.calculateTotalPrice())),c.a.createElement("div",{className:"cart-root__price-details__sub__label"},c.a.createElement("div",{className:"cart-root__price-details__sub__label--label"},"Discount"),c.a.createElement("div",{className:"cart-root__price-details__sub__label--value"},this.calculateTotalPrice()-this.calculateTotalDiscount()))),c.a.createElement("div",{className:"cart-root__price-details__payable"},c.a.createElement("div",{className:"cart-root__price-details__payable--label"},"Payable"),c.a.createElement("div",{className:"cart-root__price-details__payable--value"},this.calculateTotalPrice()-(this.calculateTotalPrice()-this.calculateTotalDiscount()))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){if(e.products&&e.cart)return{cartItems:t.validateCartItems(e.products,e.cart)}}}]),t}(c.a.Component);G.validateCartItems=function(e,t){var a=[];return e.filter((function(e){return t.cart.some((function(t){return e.id===t.productID&&a.push({product:e,quantity:t.quantity}),null}))})),a};var Z=G,ee=Object(i.b)((function(e){return{products:e.home.productsData,cart:e.cart}}),(function(e){return{requestAddToCartRequest:function(t){return e(Y(t))},requestRemoveFromCartRequest:function(t){return e(function(e){return{type:U,payload:{productID:e}}}(t))},requestRemoveProductFromCartRequest:function(t){return e(function(e){return{type:K,payload:{productID:e}}}(t))}}}))(Z);var te=function(){return c.a.createElement(s.a,{basename:"/e-kart"},c.a.createElement(d.a,{exact:!0,path:"/",component:Q}),c.a.createElement(d.a,{path:"/checkout",component:ee}))},ae=a(11),re={},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(ae.a)({},e,{productsData:[],showSpinner:!0});case A:var a=t.payload.productsData;return Object(ae.a)({},e,{productsData:a,showSpinner:!1});default:return e}},ne=a(48),oe={cart:[]},ie=function(e,t){return e.find((function(e){return e.productID===t}))?e.map((function(e){return e.productID===t?{productID:t,quantity:e.quantity+1}:e})):[].concat(Object(ne.a)(e),[{productID:t,quantity:1}])},le=function(e,t){return 1===e.find((function(e){return e.productID===t})).quantity?e.filter((function(e){return e.productID!==t})):e.map((function(e){return e.productID===t?{productID:t,quantity:e.quantity-1}:e}))},ue=function(e,t){return e.find((function(e){return e.productID===t}))?e.filter((function(e){return e.productID!==t})):e},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(ae.a)({},e,{cart:ie(e.cart,t.payload.productID)});case U:return Object(ae.a)({},e,{cart:le(e.cart,t.payload.productID)});case K:return Object(ae.a)({},e,{cart:ue(e.cart,t.payload.productID)});default:return e}},de=Object(u.c)({home:ce,cart:se});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(101);var me=Object(u.a)(l.a),pe=Object(u.d)(de,me);o.a.render(c.a.createElement(i.a,{store:pe},c.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},44:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},47:function(e,t,a){e.exports=a.p+"static/media/boss.9dfc9092.jpg"},49:function(e,t,a){e.exports=a(102)},59:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){}},[[49,1,2]]]);
//# sourceMappingURL=main.5ff9b34f.chunk.js.map