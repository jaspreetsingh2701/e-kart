(this["webpackJsonpe-kart"]=this["webpackJsonpe-kart"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),n=a(13),o=a.n(n),i=a(17),l=a(44),s=a(11),u=a(9),d=a(10),m=a(14),p=a(15),_=a(18),f=a(16),h=a(19),v=function(e,t,a){var r=a?function(t){return a(t,e)}:function(t){return t[e]};return t=t?-1:1,function(e,a){return e=r(e),a=r(a),t*((e>a)-(a>e))}},E=function(e,t){return Math.min.apply(Math,e.map((function(e){return 100*Math.floor(e[t]/100)})))},b=function(e,t){return Math.max.apply(Math,e.map((function(e){return 100*Math.floor(e[t]/100)})))},g=function(e){var t=e.cartItemsCount;return c.a.createElement("div",{className:"cart"},c.a.createElement(u.b,{to:"/checkout",style:t<=0?{pointerEvents:"none"}:{}},c.a.createElement("div",{className:"cart__wrapper"},c.a.createElement("i",{className:"cart__wrapper__icon fa fa-shopping-cart","aria-hidden":"true"}),t>0&&c.a.createElement("div",{className:"cart__wrapper__count"},t))))},N=a(46),y=a.n(N),w=(a(60),function(e){var t=e.searchCallback;return c.a.createElement("input",{className:"header__root__search_input",placeholder:"Search",onChange:t})}),C=function(e){var t=e.cartItemsCount,a=e.isShowCart,r=void 0===a||a,n=e.searchCallback;return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__devInfo"},c.a.createElement("div",{className:"header__devInfo--text"},"Powered by React"),c.a.createElement("img",{src:y.a,alt:"logo"})),c.a.createElement("div",{className:"header__root"},c.a.createElement("div",{className:"f-r"},c.a.createElement("div",{className:"header__root--company-text"},c.a.createElement(u.b,{to:"/"},"e-Kart")),n&&c.a.createElement(w,{searchCallback:n}),r&&c.a.createElement(g,{cartItemsCount:t}))))},D=(a(61),a(62),function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={activeTab:"tab1"},a.tabOnClick=function(e){e&&e.currentTarget&&e.currentTarget.id&&a.setState({activeTab:e.currentTarget.id})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.activeTab,t=this.props.rowDirection,a=void 0===t?"f-c":t,r=this.tabOnClick;return c.a.createElement("div",{className:"tabs ".concat(a?"f-r":"f-c"),activetab:e},c.a.Children.map(this.props.children,(function(t){var a=t.props;return c.a.cloneElement(t,{onClick:r,extraProp:"extraProp",child:t,isActive:a.id===e,customOnClick:a.onClick})})))}}]),t}(c.a.Component)),O=function(e){var t=e.id,a=e.isActive,r=e.onClick,n=e.customOnClick,o=e.children;return c.a.createElement("div",{className:"tab",style:{color:a?"#3498db":"",borderBottom:"2px solid ".concat(a?"#3498db":"#c2c2c2")},id:t,onClick:function(e){r(e),n()}},o)},k=(a(63),function(e){var t=e.isMobile,a=void 0!==t&&t,r=e.sortedProducts;return c.a.createElement("div",{className:"sort".concat(a?"-mobile":"")},a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sort-mobile__label"},"SORT"),c.a.createElement("div",{className:"f-c",onChange:function(e){return r(e.target.value,e.target.dataset.isasc)}},c.a.createElement("div",null,c.a.createElement("input",{id:"lowToHigh",type:"radio",value:"price",name:"sortBy",defaultChecked:!0}),"\xa0",c.a.createElement("label",{for:"lowToHigh"},"Price - Low to High")),c.a.createElement("div",null,c.a.createElement("input",{id:"highToLow",type:"radio",value:"price","data-isasc":"true",name:"sortBy"}),"\xa0",c.a.createElement("label",{for:"highToLow"},"Price - High to Low")),c.a.createElement("div",null,c.a.createElement("input",{id:"discount",type:"radio",value:"discount","data-isasc":"true",name:"sortBy"}),"\xa0",c.a.createElement("label",{for:"discount"},"Discount (%)")))),!a&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sort__label"},"SORT BY"),c.a.createElement(D,{rowDirection:!0,activeClass:"activeTab",activeTab:"tab1"},c.a.createElement(O,{id:"tab1",onClick:function(){return r("price",!1)}},"Price - Low to High"),c.a.createElement(O,{id:"tab2",onClick:function(){return r("price",!0)}},"Price - Hight to Low"),c.a.createElement(O,{id:"tab3",onClick:function(){return r("discount",!0)}},"Discount (%)"))))}),R=(a(64),a(31)),S=a(23),I=a.n(S),P=function(e){var t=e.product,a=e.requestAddToCartRequest,n=Object(r.useState)(!1),o=Object(R.a)(n,2),i=o[0],l=o[1],s=Object(r.useState)(!1),u=Object(R.a)(s,2),d=u[0],m=u[1],p=t.img_url;return c.a.createElement("div",{className:"product"},c.a.createElement("img",{style:{display:d?"block":"none"},className:"product__image",onLoad:function(){m(!0)},onError:function(){l(!0)},src:p,alt:t.name}),!i&&!d&&c.a.createElement("div",{className:"product__image--loading"},c.a.createElement("img",{style:{height:50},src:I.a,alt:"loading"})),i&&c.a.createElement("div",{className:"product__image--error"},"Error showing image!"),c.a.createElement("div",{className:"product__description"},c.a.createElement("div",{className:"product__name"},t.name),c.a.createElement("div",{className:"product__price_wrapper"},c.a.createElement("div",{className:"product__price_wrapper__discounted_price"},"\u20b9",t.price-t.price*t.discount/100),c.a.createElement("div",{className:"product__price_wrapper__price"},c.a.createElement("strike",null,"\u20b9",t.price)),c.a.createElement("div",{className:"product__price_wrapper__discount"},"(",t.discount,"% OFF)"))),c.a.createElement("button",{className:"btn-primary btn-full",onClick:function(){return a(t.id)}},"Add to Cart"))},q=(a(65),function(e){var t=e.products,a=e.requestAddToCartRequest;return c.a.createElement("div",{className:"products"},t.map((function(e,t){return c.a.createElement(P,{product:e,key:t,requestAddToCartRequest:a})})))}),T=a(47),F=a.n(T),M=(a(81),function(e){var t=e.showSpinner,a=e.isMobile,r=void 0!==a&&a,n=e.range,o=e.value,i=e.changeRangeValue,l=e.priceRangeFilter;return c.a.createElement("div",{className:"filter".concat(r?"-mobile":"")},c.a.createElement("div",{className:"filter__label"},"FILTER"),!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(F.a,{step:100,minValue:n.min,maxValue:n.max,formatLabel:function(e){return"".concat(e," Rs")},value:o,onChange:function(e){return i(e)}}),c.a.createElement("div",{className:"filter__action"},c.a.createElement("button",{className:"btn-primary",onClick:l},"APPLY"))))}),j=(a(82),document.getElementById("modal-root")),x=function(e){return o.a.createPortal(c.a.createElement("div",{className:"modal"},c.a.createElement("div",{className:"modal__content"},e.children,c.a.createElement("button",{onClick:e.closeModal,className:"btn-primary btn-full"},"X"))),j)},A=function(e){var t=e.size,a=void 0===t?"md":t;return c.a.createElement("div",{className:"spinner"},c.a.createElement("img",{className:"spinner--".concat(a),src:I.a,alt:"loading"}))},L=function(){return c.a.createElement("div",{className:"no-data"},c.a.createElement("div",{className:"no-data--text"},"No Data Found"),c.a.createElement("div",{className:"no-data--home"},c.a.createElement(u.b,{to:"/"},"Home")))},V=function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={products:[],filteredProducts:[],range:{min:0,max:0},value:{min:0,max:0},isFiltered:!1,cartItemsCount:0,width:window.innerWidth,isSortModal:!1,isFilterModal:!1},a.handleWindowSizeChange=function(){a.setState({width:window.innerWidth})},a.fetchProducts=function(){(0,a.props.requestProductsJSON)()},a.sortedProducts=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=a.state.products;a.setState({filteredProducts:c.sort(v(e,r,t.calculateDiscount))})},a.priceRangeFilter=function(){var e=a.state,t=e.value,r=e.products;a.setState({isFiltered:!0,filteredProducts:r.filter((function(e){return e.price>=t.min&&e.price<=t.max}))})},a.searchCallback=function(e){var t=a.state.products;a.setState({filteredProducts:t.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}))})},a.changeRangeValue=function(e){a.setState({value:e})},a.showSortModal=function(){a.setState({isSortModal:!0})},a.showFilterModal=function(){a.setState({isFilterModal:!0})},a.closeModal=function(){a.setState({isSortModal:!1,isFilterModal:!1})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.fetchProducts(),window.addEventListener("resize",this.handleWindowSizeChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowSizeChange)}},{key:"render",value:function(){var e=this.state,t=e.filteredProducts,a=e.range,r=e.value,n=e.cartItemsCount,o=e.width,i=e.isSortModal,l=e.isFilterModal,s=this.props,u=s.requestAddToCartRequest,d=s.showSpinner,m=this.priceRangeFilter,p=this.sortedProducts,_=this.changeRangeValue,f=this.showSortModal,h=this.showFilterModal,v=this.closeModal,E=this.searchCallback,b=o<=500;return c.a.createElement(c.a.Fragment,null,c.a.createElement(C,{cartItemsCount:n,searchCallback:E}),c.a.createElement("section",{className:"home"},d&&c.a.createElement(A,{size:"lg"}),!d&&0===t.length&&c.a.createElement(L,null),b&&c.a.createElement("div",{className:"home__filters"},c.a.createElement("div",{className:"home__filters__action",onClick:f},c.a.createElement("i",{className:"fa fa-sort"}),"\xa0Sort"),c.a.createElement("div",{className:"home__filters__action",onClick:h},c.a.createElement("i",{className:"fa fa-filter"}),"\xa0Filter")),b&&i&&c.a.createElement(x,{closeModal:v},c.a.createElement(k,{isMobile:!0,sortedProducts:p})),b&&l&&c.a.createElement(x,{closeModal:v},c.a.createElement(M,{isMobile:!0,range:a,value:r,changeRangeValue:_,priceRangeFilter:m})),c.a.createElement("div",{className:"home__wrapper"},!b&&c.a.createElement("div",{className:"home__wrapper__filter"},c.a.createElement(M,{showSpinner:!(t&&t.length>0),range:a,value:r,changeRangeValue:_,priceRangeFilter:m})),t&&t.length>0&&c.a.createElement("div",{className:"f-c"},!b&&c.a.createElement(k,{sortedProducts:p}),c.a.createElement(q,{products:t,requestAddToCartRequest:u})))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.productsData&&a.products!==e.productsData&&!a.isFiltered?{range:{min:E(e.productsData,"price"),max:b(e.productsData,"price")},value:{min:E(e.productsData,"price"),max:b(e.productsData,"price")},products:e.productsData.sort(v("price",!1,t.calculateDiscount)),filteredProducts:e.productsData.sort(v("price",!1,t.calculateDiscount))}:e.cart.length!==a.cartItemsCount?{cartItemsCount:e.cart?e.cart.length:0}:null}}]),t}(c.a.Component);V.calculateDiscount=function(e,t){return e[t]-e[t]*e.discount/100};var z=V,W=a(30),B=a.n(W),H=a(48),J="REQUEST_PRODUCTS_JSON",U="RECEIVE_PRODUCTS_JSON",K="FAILED_PRODUCTS_JSON",Y=a(24),Q=a.n(Y),X=function(e){return Q.a.get(e).then((function(e){return{data:e.data}})).catch((function(t){throw console.error(e,t),t}))},$=function(){return X("https://api.myjson.com/bins/qzuzi").then((function(e){return e.data}))},G=function(){return function(){var e=Object(H.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:J}),e.abrupt("return",$().then((function(e){t({type:U,payload:{productsData:e}})})).catch((function(){t({type:K})})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Z="ADD_TO_CART",ee="REMOVE_FROM_CART",te="REMOVE_PRODUCT_FROM_CART",ae=function(e){return{type:Z,payload:{productID:e}}},re=Object(i.b)((function(e){var t=e.home;return{productsData:t.productsData,showSpinner:t.showSpinner,cart:e.cart.cart}}),(function(e){return{requestProductsJSON:function(){return e(G())},requestAddToCartRequest:function(t){return e(ae(t))}}}))(z),ce=(a(101),function(e){function t(){var e,a;Object(m.a)(this,t);for(var r=arguments.length,c=new Array(r),n=0;n<r;n++)c[n]=arguments[n];return(a=Object(_.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(c)))).state={cartItems:[],cartItemsDummy:[{product:{id:9095,name:"Item2",price:150,discount:5,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},quantity:1},{product:{id:9096,name:"Item1",price:320,discount:5,category:"literature",img_url:"http://lorempixel.com/500/600/technics/"},quantity:1}],totalPrice:0,totalDiscount:0,totalPayable:0},a.calculateTotalPrice=function(){var e=a.state.cartItems,t=0;return e.map((function(e){return t+=e.product.price*e.quantity})),t},a.calculateTotalDiscount=function(){var e=a.state.cartItems,t=0;return e.map((function(e){return t+=e.product.price*e.quantity-e.product.price*e.quantity*e.product.discount/100})),t},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,a=e.products,r=e.cart;if(a&&a.length>0){var c=t.validateCartItems(a,r);this.setState({cartItems:c})}return null}},{key:"render",value:function(){var e=this.state.cartItems,t=this.props,a=t.requestAddToCartRequest,r=t.requestRemoveFromCartRequest,n=t.requestRemoveProductFromCartRequest;return c.a.createElement(c.a.Fragment,null,c.a.createElement(C,{isShowCart:!1}),c.a.createElement("section",{className:"cart-root"},e&&0===e.length&&c.a.createElement(L,null),c.a.createElement("div",{className:"cart-root__wrapper"},e&&e.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"cart-root__wrapper__cart-items"},e.map((function(e,t){return c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product",key:t},c.a.createElement("div",{className:"f-r",style:{flex:1}},c.a.createElement("img",{className:"cart-root__wrapper__cart-items__product--img",src:e.product.img_url,alt:e.name}),c.a.createElement("div",{className:"f-c",style:{marginLeft:8,flex:1}},c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--name"},e.product.name),c.a.createElement("div",{className:"f-r",style:{flexWrap:"wrap"}},c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--discounted-price"},"\u20b9",e.product.price-e.product.price*e.product.discount/100),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--price"},c.a.createElement("strike",null,"\u20b9",e.product.price)),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product--discount"},"(",e.product.discount,"% OFF)"),c.a.createElement("div",{className:"cart-root__wrapper__cart-items__product__actions"},c.a.createElement("i",{onClick:function(){return r(e.product.id)},className:"fa fa-minus-circle","aria-hidden":"true"}),c.a.createElement("div",null,e.quantity),c.a.createElement("i",{onClick:function(){return a(e.product.id)},className:"fa fa-plus-circle","aria-hidden":"true"}),c.a.createElement("button",{className:"btn-primary",onClick:function(){return n(e.product.id)}},"REMOVE"))))))}))),c.a.createElement("div",{className:"cart-root__price-details"},c.a.createElement("div",{className:"cart-root__price-details--label"},"CHECKOUT"),c.a.createElement("div",{className:"cart-root__price-details__sub"},c.a.createElement("div",{className:"cart-root__price-details__sub__label"},c.a.createElement("div",{className:"cart-root__price-details__sub__label--label"},"Price"),c.a.createElement("div",{className:"cart-root__price-details__sub__label--value"},this.calculateTotalPrice())),c.a.createElement("div",{className:"cart-root__price-details__sub__label"},c.a.createElement("div",{className:"cart-root__price-details__sub__label--label"},"Discount"),c.a.createElement("div",{className:"cart-root__price-details__sub__label--value"},this.calculateTotalPrice()-this.calculateTotalDiscount()))),c.a.createElement("div",{className:"cart-root__price-details__payable"},c.a.createElement("div",{className:"cart-root__price-details__payable--label"},"Payable"),c.a.createElement("div",{className:"cart-root__price-details__payable--value"},this.calculateTotalPrice()-(this.calculateTotalPrice()-this.calculateTotalDiscount()))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){if(e.products&&e.cart)return{cartItems:t.validateCartItems(e.products,e.cart)}}}]),t}(c.a.Component));ce.validateCartItems=function(e,t){var a=[];return e.filter((function(e){return t.cart.some((function(t){return e.id===t.productID&&a.push({product:e,quantity:t.quantity}),null}))})),a};var ne=ce,oe=Object(i.b)((function(e){return{products:e.home.productsData,cart:e.cart}}),(function(e){return{requestAddToCartRequest:function(t){return e(ae(t))},requestRemoveFromCartRequest:function(t){return e(function(e){return{type:ee,payload:{productID:e}}}(t))},requestRemoveProductFromCartRequest:function(t){return e(function(e){return{type:te,payload:{productID:e}}}(t))}}}))(ne);var ie=function(){return c.a.createElement(u.a,{basename:"/e-kart"},c.a.createElement(d.a,{exact:!0,path:"/",component:re}),c.a.createElement(d.a,{path:"/checkout",component:oe}))},le=a(12),se={},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(le.a)({},e,{productsData:[],showSpinner:!0});case U:var a=t.payload.productsData;return Object(le.a)({},e,{productsData:a,showSpinner:!1});default:return e}},de=a(49),me={cart:[]},pe=function(e,t){return e.find((function(e){return e.productID===t}))?e.map((function(e){return e.productID===t?{productID:t,quantity:e.quantity+1}:e})):[].concat(Object(de.a)(e),[{productID:t,quantity:1}])},_e=function(e,t){return 1===e.find((function(e){return e.productID===t})).quantity?e.filter((function(e){return e.productID!==t})):e.map((function(e){return e.productID===t?{productID:t,quantity:e.quantity-1}:e}))},fe=function(e,t){return e.find((function(e){return e.productID===t}))?e.filter((function(e){return e.productID!==t})):e},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(le.a)({},e,{cart:pe(e.cart,t.payload.productID)});case ee:return Object(le.a)({},e,{cart:_e(e.cart,t.payload.productID)});case te:return Object(le.a)({},e,{cart:fe(e.cart,t.payload.productID)});default:return e}},ve=Object(s.c)({home:ue,cart:he});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(102);var Ee=Object(s.a)(l.a),be=Object(s.d)(ve,Ee);o.a.render(c.a.createElement(i.a,{store:be},c.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},23:function(e,t,a){e.exports=a.p+"static/media/loader_cms.def46ae4.gif"},46:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},50:function(e,t,a){e.exports=a(103)},60:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){}},[[50,1,2]]]);
//# sourceMappingURL=main.a4feafae.chunk.js.map